{"ast":null,"code":"import _regeneratorRuntime from\"/Users/JimmyNoorani/Library/CloudStorage/OneDrive-Personal/Education/Software_Dev/Projects/Capstone/React_Space_Travel_Project/space-travel-starter-code-guided/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/JimmyNoorani/Library/CloudStorage/OneDrive-Personal/Education/Software_Dev/Projects/Capstone/React_Space_Travel_Project/space-travel-starter-code-guided/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/JimmyNoorani/Library/CloudStorage/OneDrive-Personal/Education/Software_Dev/Projects/Capstone/React_Space_Travel_Project/space-travel-starter-code-guided/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/JimmyNoorani/Library/CloudStorage/OneDrive-Personal/Education/Software_Dev/Projects/Capstone/React_Space_Travel_Project/space-travel-starter-code-guided/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/JimmyNoorani/Library/CloudStorage/OneDrive-Personal/Education/Software_Dev/Projects/Capstone/React_Space_Travel_Project/space-travel-starter-code-guided/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext}from\"react\";import{useNavigate}from\"react-router-dom\";import styles from\"./SpacecraftBuild.module.css\";import{LoadingContext}from\"../../context/LoadingProvider\";import SpaceTravelApi from\"../../services/SpaceTravelApi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SpacecraftBuild(){var _handleSubmitOfForm;var INITIAL_SPACECRAFT={name:\"\",capacity:\"\",description:\"\",pictureUrl:\"\"};var _useState=useState(INITIAL_SPACECRAFT),_useState2=_slicedToArray(_useState,2),spacecraft=_useState2[0],setSpacecraft=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var navigate=useNavigate();var _useContext=useContext(LoadingContext),enableLoading=_useContext.enableLoading,disableLoading=_useContext.disableLoading;function handleChangeOfFormInput(event){// DONE todo update form state\nvar _event$target=event.target,name=_event$target.name,value=_event$target.value;setSpacecraft(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},name,value));});}function handleSubmitOfForm(_x){return(_handleSubmitOfForm=_handleSubmitOfForm||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$SpaceTravelApi,data,isError,errorMessage;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// DONE todo submit the form using the API\nevent.preventDefault();enableLoading();_context.next=4;return SpaceTravelApi.createSpacecraft(spacecraft);case 4:_yield$SpaceTravelApi=_context.sent;data=_yield$SpaceTravelApi.data;isError=_yield$SpaceTravelApi.isError;errorMessage=_yield$SpaceTravelApi.errorMessage;disableLoading();if(isError){setErrors([errorMessage]);}else{navigate('/spacecrafts');}case 10:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);}function handleClickOfBack(event){// DONE todo navigate back\nnavigate(-1);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:styles[\"button__back\"],onClick:handleClickOfBack,children:\"Back \\uD83D\\uDC48\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmitOfForm,children:/*#__PURE__*/_jsxs(\"div\",{className:styles[\"form\"],children:[/*#__PURE__*/_jsxs(\"div\",{className:styles[\"form__inputs\"],children:[/*#__PURE__*/_jsx(\"div\",{className:styles[\"form__inputContainer\"],children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:spacecraft.name,onChange:handleChangeOfFormInput,autoComplete:\"off\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles[\"form__inputContainer\"],children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"capacity\",placeholder:\"Capacity\",value:spacecraft.capacity,onChange:handleChangeOfFormInput,autoComplete:\"off\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles[\"form__inputContainer\"],children:/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Description\",value:spacecraft.description,onChange:handleChangeOfFormInput})}),/*#__PURE__*/_jsx(\"div\",{className:styles[\"form__inputContainer\"],children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"pictureUrl\",placeholder:\"Picture URL\",value:spacecraft.pictureUrl,onChange:handleChangeOfFormInput,autoComplete:\"off\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"submitContainer\"],children:[/*#__PURE__*/_jsx(\"div\",{className:styles[\"errorContainer\"],children:errors.map(function(error,index){return/*#__PURE__*/_jsx(\"div\",{className:styles[\"error\"],children:error},index);})}),/*#__PURE__*/_jsx(\"div\",{className:styles[\"button__submit\"],children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmitOfForm,children:\"Build \\uD83C\\uDFD7\\uFE0F\"})})]})]})})})]});}export default SpacecraftBuild;","map":{"version":3,"names":["useState","useContext","useNavigate","styles","LoadingContext","SpaceTravelApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SpacecraftBuild","_handleSubmitOfForm","INITIAL_SPACECRAFT","name","capacity","description","pictureUrl","_useState","_useState2","_slicedToArray","spacecraft","setSpacecraft","_useState3","_useState4","errors","setErrors","navigate","_useContext","enableLoading","disableLoading","handleChangeOfFormInput","event","_event$target","target","value","prevState","_objectSpread","_defineProperty","handleSubmitOfForm","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$SpaceTravelApi","data","isError","errorMessage","wrap","_callee$","_context","prev","next","preventDefault","createSpacecraft","sent","stop","apply","arguments","handleClickOfBack","children","className","onClick","onSubmit","type","placeholder","onChange","autoComplete","map","error","index"],"sources":["/Users/JimmyNoorani/Library/CloudStorage/OneDrive-Personal/Education/Software_Dev/Projects/Capstone/React_Space_Travel_Project/space-travel-starter-code-guided/src/pages/SpacecraftBuild/SpacecraftBuild.js"],"sourcesContent":["import {useState, useContext} from \"react\";\nimport {useNavigate} from \"react-router-dom\";\n\nimport styles from \"./SpacecraftBuild.module.css\";\nimport {LoadingContext} from \"../../context/LoadingProvider\";\nimport SpaceTravelApi from \"../../services/SpaceTravelApi\";\n\nfunction SpacecraftBuild ()\n{\n  const INITIAL_SPACECRAFT = {\n    name: \"\",\n    capacity: \"\",\n    description: \"\",\n    pictureUrl: \"\"\n  };\n  const [spacecraft, setSpacecraft] = useState(INITIAL_SPACECRAFT);\n  const [errors, setErrors] = useState([]);\n  const navigate = useNavigate();\n  const {enableLoading, disableLoading} = useContext(LoadingContext);\n\n  function handleChangeOfFormInput (event)\n  {\n    // DONE todo update form state\n    const { name, value } = event.target;\n    setSpacecraft(prevState => ({\n      ...prevState, \n      [name]: value\n    }));  \n  }\n\n  async function handleSubmitOfForm (event)\n  {\n    // DONE todo submit the form using the API\n    event.preventDefault();\n\n  enableLoading();\n  \n  const { data, isError, errorMessage } = await SpaceTravelApi.createSpacecraft(spacecraft);\n  \n  disableLoading();\n\n  if (isError) {\n    setErrors([errorMessage]);\n  } else {\n    navigate('/spacecrafts'); \n  }\n}\n\n  function handleClickOfBack (event)\n  {\n    // DONE todo navigate back\n    navigate(-1);\n\n  }\n\n  return (\n    <>\n      <button\n        className={styles[\"button__back\"]}\n        onClick={handleClickOfBack}\n      >\n        Back 👈\n      </button>\n      <div>\n        <form onSubmit={handleSubmitOfForm}>\n          <div className={styles[\"form\"]}>\n            <div className={styles[\"form__inputs\"]}>\n              <div className={styles[\"form__inputContainer\"]}>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  placeholder=\"Name\"\n                  value={spacecraft.name}\n                  onChange={handleChangeOfFormInput}\n                  autoComplete=\"off\"\n                />\n              </div>\n\n              <div className={styles[\"form__inputContainer\"]}>\n                <input\n                  type=\"text\"\n                  name=\"capacity\"\n                  placeholder=\"Capacity\"\n                  value={spacecraft.capacity}\n                  onChange={handleChangeOfFormInput}\n                  autoComplete=\"off\"\n                />\n              </div>\n\n              <div className={styles[\"form__inputContainer\"]}>\n                <textarea\n                  name=\"description\"\n                  placeholder=\"Description\"\n                  value={spacecraft.description}\n                  onChange={handleChangeOfFormInput}\n                />\n              </div>\n\n              <div className={styles[\"form__inputContainer\"]}>\n                <input\n                  type=\"text\"\n                  name=\"pictureUrl\"\n                  placeholder=\"Picture URL\"\n                  value={spacecraft.pictureUrl}\n                  onChange={handleChangeOfFormInput}\n                  autoComplete=\"off\"\n                />\n              </div>\n            </div>\n\n            <div className={styles[\"submitContainer\"]}>\n              <div className={styles[\"errorContainer\"]}>\n                {\n                  errors.map((error, index) => <div\n                    key={index}\n                    className={styles[\"error\"]}\n                  >{error}</div>)\n                }\n              </div>\n\n              <div className={styles[\"button__submit\"]}>\n                <button\n                  type=\"submit\"\n                  onClick={handleSubmitOfForm}\n                >\n                  Build 🏗️\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default SpacecraftBuild;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}