{"ast":null,"code":"import _regeneratorRuntime from\"/Users/JimmyNoorani/Library/CloudStorage/OneDrive-Personal/Education/Software_Dev/Projects/Capstone/React_Space_Travel_Project/space-travel-starter-code-guided/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/JimmyNoorani/Library/CloudStorage/OneDrive-Personal/Education/Software_Dev/Projects/Capstone/React_Space_Travel_Project/space-travel-starter-code-guided/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/JimmyNoorani/Library/CloudStorage/OneDrive-Personal/Education/Software_Dev/Projects/Capstone/React_Space_Travel_Project/space-travel-starter-code-guided/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import styles from\"./Spacecrafts.module.css\";import{LoadingContext}from\"../../context/LoadingProvider\";import SpaceTravelApi from\"../../services/SpaceTravelApi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Spacecrafts(){var _getSpacecrafts,_handleClickOfDestroy;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),spacecrafts=_useState2[0],setSpacecrafts=_useState2[1];var _useContext=useContext(LoadingContext),enableLoading=_useContext.enableLoading,disableLoading=_useContext.disableLoading;function getSpacecrafts(){return(_getSpacecrafts=_getSpacecrafts||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$SpaceTravelApi,spacecrafts;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return SpaceTravelApi.getSpacecrafts();case 2:_yield$SpaceTravelApi=_context.sent;spacecrafts=_yield$SpaceTravelApi.data;setSpacecrafts(spacecrafts);case 5:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);}useEffect(function(){var _runGetSpacecrafts;function runGetSpacecrafts(){return(_runGetSpacecrafts=_runGetSpacecrafts||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:enableLoading();_context2.next=3;return getSpacecrafts();case 3:disableLoading();case 4:case\"end\":return _context2.stop();}},_callee2);}))).apply(this,arguments);}runGetSpacecrafts();},[enableLoading,disableLoading]);var navigate=useNavigate();function handleClickOfBuild(){// DONE todo navigate to build spacecraft page\nnavigate('/spacecrafts/build');}function handleClickOfImageContainer(event,id){navigate(\"/spacecraft/\".concat(id));}function handleClickOfDestroy(_x,_x2){return(_handleClickOfDestroy=_handleClickOfDestroy||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(event,id){var _yield$SpaceTravelApi2,isError;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:enableLoading();_context3.next=3;return SpaceTravelApi.destroySpacecraftById({id:id});case 3:_yield$SpaceTravelApi2=_context3.sent;isError=_yield$SpaceTravelApi2.isError;if(isError){_context3.next=8;break;}_context3.next=8;return getSpacecrafts();case 8:disableLoading();case 9:case\"end\":return _context3.stop();}},_callee3);}))).apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClickOfBuild,children:\"\\uD83C\\uDFD7 Build a Spacecraft\"}),/*#__PURE__*/_jsx(\"div\",{children:spacecrafts.map(function(spacecraft,index){return/*#__PURE__*/_jsxs(\"div\",{className:styles[\"spacecraft\"],children:[/*#__PURE__*/_jsx(\"div\",{className:styles[\"spacecraft__imageContainer\"],onClick:function onClick(event){return handleClickOfImageContainer(event,spacecraft.id);},children:spacecraft.pictureUrl?/*#__PURE__*/_jsx(\"img\",{src:spacecraft.pictureUrl,alt:\"The spacecraft \".concat(spacecraft.name),className:styles[\"spacecraft__image\"]}):/*#__PURE__*/_jsx(\"span\",{className:styles[\"spacecraft__image--default\"],children:\"\\uD83D\\uDE80\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"spacecraft__infoContainer\"],children:[/*#__PURE__*/_jsxs(\"div\",{className:styles[\"spacecraft__info\"],children:[/*#__PURE__*/_jsx(\"span\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{children:spacecraft.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"spacecraft__info\"],children:[/*#__PURE__*/_jsx(\"span\",{children:\"Capacity:\"}),/*#__PURE__*/_jsx(\"span\",{children:spacecraft.capacity})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return handleClickOfDestroy(event,spacecraft.id);},children:\"\\uD83D\\uDCA5 Destroy\"})})]},spacecraft.id);})})]});}export default Spacecrafts;","map":{"version":3,"names":["useState","useContext","useEffect","useNavigate","styles","LoadingContext","SpaceTravelApi","jsx","_jsx","jsxs","_jsxs","Spacecrafts","_getSpacecrafts","_handleClickOfDestroy","_useState","_useState2","_slicedToArray","spacecrafts","setSpacecrafts","_useContext","enableLoading","disableLoading","getSpacecrafts","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$SpaceTravelApi","wrap","_callee$","_context","prev","next","sent","data","stop","apply","arguments","_runGetSpacecrafts","runGetSpacecrafts","_callee2","_callee2$","_context2","navigate","handleClickOfBuild","handleClickOfImageContainer","event","id","concat","handleClickOfDestroy","_x","_x2","_callee3","_yield$SpaceTravelApi2","isError","_callee3$","_context3","destroySpacecraftById","children","onClick","map","spacecraft","index","className","pictureUrl","src","alt","name","capacity"],"sources":["/Users/JimmyNoorani/Library/CloudStorage/OneDrive-Personal/Education/Software_Dev/Projects/Capstone/React_Space_Travel_Project/space-travel-starter-code-guided/src/pages/Spacecrafts/Spacecrafts.js"],"sourcesContent":["import {useState, useContext, useEffect} from \"react\";\nimport {useNavigate} from \"react-router-dom\";\n\nimport styles from \"./Spacecrafts.module.css\";\nimport {LoadingContext} from \"../../context/LoadingProvider\";\nimport SpaceTravelApi from \"../../services/SpaceTravelApi\";\n\nfunction Spacecrafts ()\n{\n  const [spacecrafts, setSpacecrafts] = useState([]);\n  const {enableLoading, disableLoading} = useContext(LoadingContext);\n\n  async function getSpacecrafts ()\n  {\n    // DONE todo get spacecrafts using the API\n    const { data: spacecrafts } = await SpaceTravelApi.getSpacecrafts();\n    setSpacecrafts(spacecrafts);\n  }\n  \n  useEffect(() =>\n            {\n              async function runGetSpacecrafts ()\n              {\n                enableLoading();\n                await getSpacecrafts();\n                disableLoading();\n              }\n\n              runGetSpacecrafts();\n            },\n            [enableLoading, disableLoading]\n  );\n\n  const navigate = useNavigate();\n\n  function handleClickOfBuild ()\n  {\n    // DONE todo navigate to build spacecraft page\n    navigate('/spacecrafts/build');\n  }\n  \n  function handleClickOfImageContainer (event, id)\n  {\n    navigate(`/spacecraft/${id}`);\n  }\n\n  async function handleClickOfDestroy (event, id)\n  {\n    enableLoading();\n    const {isError} = await SpaceTravelApi.destroySpacecraftById({id});\n    if (!isError)\n    {\n      await getSpacecrafts();\n    }\n    disableLoading();\n  }\n\n  return (\n    <div>\n      <button onClick={handleClickOfBuild}>\n        üèó Build a Spacecraft\n      </button>\n      <div>\n        {\n          spacecrafts.map(\n            (spacecraft, index) =>\n              <div\n                key={spacecraft.id}\n                className={styles[\"spacecraft\"]}\n              >\n                <div\n                  className={styles[\"spacecraft__imageContainer\"]}\n                  onClick={(event) => handleClickOfImageContainer(event, spacecraft.id)}\n                >\n                  {\n                    spacecraft.pictureUrl\n                    ?\n                    <img\n                      src={spacecraft.pictureUrl}\n                      alt={`The spacecraft ${spacecraft.name}`}\n                      className={styles[\"spacecraft__image\"]}\n                    />\n                    :\n                    <span className={styles[\"spacecraft__image--default\"]}>üöÄ</span>\n                  }\n                </div>\n\n                <div className={styles[\"spacecraft__infoContainer\"]}>\n                  <div className={styles[\"spacecraft__info\"]}>\n                    <span>Name:</span>\n                    <span>{spacecraft.name}</span>\n                  </div>\n\n                  <div className={styles[\"spacecraft__info\"]}>\n                    <span>Capacity:</span>\n                    <span>{spacecraft.capacity}</span>\n                  </div>\n                </div>\n\n                <div>\n                  <button onClick={(event) => handleClickOfDestroy(event, spacecraft.id)}>üí• Destroy</button>\n                </div>\n              </div>\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default Spacecrafts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}